<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=\, initial-scale=1.0" />
    <title>数组去重</title>
  </head>
  <body>
    <script>
      function unique(val) {
        return (
          (new Set(val) && false) ||
          (Array.from(new Set(val)) && false) || [...new Set(val)]
        )
        // Array.from()转化为数组 Set是怎么判断重复？
      }
      ///////////////////////////////////////////////////////////////////////////////////////////
      function unique_2(val) {
        let arr = []
        for (let i = 0; i < val.length; i++) {
          if (arr.indexOf(val[i]) === -1) {
            // indexOf(searchvalue,start),start是找到的是第一次出现的searchvalue的索引值
            arr.push(val[i])
          }
        }
        return arr
      }
      //////////////////////////////////////////////////////////////////////////////////////////
      function unique_3(val) {
        let arr = []
        for (let i = 0; i < val.length; i++) {
          if (!arr.includes(val[i])) {
            //ES6方法  includes()返回一个Boolean值，有true，没有false
            arr.push(val[i])
          }
        }
        return arr
      }
      /////////////////////////////////////////////////////////////////////////////////////////
      function unique_4(val) {
        return val.filter((item, index) => val.indexOf(item, 0) === index)
        // [1, 2, 2, 3, 3, 4, 7, 9] 原数组
        //  0  1  2  3  4  5  6  7  index索引
        // [1, 2, 2, 3, 3, 4, 7, 9] 伪数组
        //  0  1  1  2  2  3  4  5  使用indexOf找出的索引，indexOf不会返回重复找到的所以最后输出[1,2,3,4,7,9],去重成功
      }
      /////////////////////////////////////////////////////////////////////////////////////////
      function nonRepeat_5(arr) {
        let hashMap = new Map()
        let repeatArr = []
        let result = []
        for (let i = 0; i < arr.length; i++) {
          if (hashMap.has(arr[i])) {
            repeatArr.push(arr[i])
          } else {
            hashMap.set(arr[i], 'noRepeat')
          }
        }
        console.log(repeatArr) // [1,3]

        hashMap.forEach((value, key) => result.push(key))
        return result
      }
      let array = [1, 1, 2, 3, 3, 4]
      console.log(nonRepeat_5(array)) // [1,2,3,4]
      /////////////////////////////////////////////////////////////////////////////////////////
      console.log(unique([1, 2, 2, 3, 3, 4, 7, 9]))
      console.log(unique_2([1, 2, 2, 3, 3, 4, 7, 9]))
      console.log(unique_3([1, 2, 2, 3, 3, 4, 7, 9]))
      console.log(unique_4([1, 2, 2, 3, 3, 4, 7, 9]))
    </script>
  </body>
</html>
